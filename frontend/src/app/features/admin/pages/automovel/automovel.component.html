<div class="automovel-container">

  <div class="top-row">
    <h1 class="titulo">Automóvel</h1>
    <button class="add-button" routerLink="/admin/cadastro-veiculo">Adicionar</button>
  </div>

  <div *ngIf="isLoading" class="empty-state">
    <p>Carregando veículos...</p>
  </div>

  <div class="data-card" *ngIf="!isLoading && veiculos.length > 0">
    <table class="data-table">
      <thead>
        <tr>
          <th>Placa</th>
          <th>Modelo</th>
          <th>Cor</th>
          <th>Situação</th>
          <th>Ação</th> 
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let veiculo of veiculos">
          <td>{{ veiculo.placa }}</td>
          <td>{{ veiculo.modelo }}</td>
          
          <td>
            <div class="color-dot" [style.backgroundColor]="veiculo.cor.toLowerCase()"></div>
          </td>
          
          <td>
            
            <span *ngIf="veiculo.situacao" class="material-icons icon-success" title="Ativo">
              check_circle
            </span>
            <span *ngIf="!veiculo.situacao" class="material-icons icon-danger" title="Inativo">
              cancel
            </span>
          </td>
          
          <td>
            <div class="actions">
              <button class="status-btn" 
                      [class.btn-block]="veiculo.situacao" 
                      [class.btn-activate]="!veiculo.situacao"
                      (click)="alternarSituacao(veiculo)">
                
                <span class="material-icons">
                  {{ veiculo.situacao ? 'block' : 'autorenew' }}
                </span>
                {{ veiculo.situacao ? 'Desativar' : 'Ativar' }}
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!isLoading && veiculos.length === 0" class="empty-state">
    <p>Nenhum veículo encontrado.</p>
  </div>

</div>