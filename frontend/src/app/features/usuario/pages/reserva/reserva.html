<div class="main-container">
  <h2 class="page-title">SELECIONE O PERÍODO DA RESERVA</h2>

  <div class="booking-card">
    
    <div class="inputs-container" style="margin-bottom: 20px;">
      <div class="input-box" style="width: 100%;">
        <label>Qual veículo vai estacionar?</label>
        <div class="field-wrapper">
          <select [(ngModel)]="veiculoSelecionadoId" class="custom-select">
            <option *ngFor="let carro of meusVeiculos" [value]="carro.id">
              {{ carro.modelo }} - {{ carro.placa }}
            </option>
            <option *ngIf="meusVeiculos.length === 0" disabled>Nenhum veículo cadastrado</option>
          </select>
          <i class="bi bi-car-front"></i>
        </div>
      </div>
    </div>

    <div class="inputs-container">
      <div class="input-group">
        <div class="input-box">
          <label>Data de entrada</label>
          <div class="field-wrapper">
            <input type="date" [(ngModel)]="dataEntrada" (change)="calcularPreco()">
          </div>
        </div>
        <div class="input-box">
          <label>Data de saída</label>
          <div class="field-wrapper">
            <input type="date" [(ngModel)]="dataSaida" (change)="calcularPreco()">
          </div>
        </div>
      </div>

      <div class="input-group">
        <div class="input-box">
          <label>Hora de entrada</label>
          <div class="field-wrapper">
            <input type="time" [(ngModel)]="horaEntrada" (change)="calcularPreco()">
          </div>
        </div>
        <div class="input-box">
          <label>Hora de saída</label>
          <div class="field-wrapper">
            <input type="time" [(ngModel)]="horaSaida" (change)="calcularPreco()">
          </div>
        </div>
      </div>
    </div>

    <div class="parking-options">
      
      <div class="option-card" 
           [class.selected]="tipoVaga === 1" 
           (click)="tipoVaga = 1; calcularPreco()">
        <div class="icon-circle orange">
          <i class="bi bi-car-front-fill"></i>
        </div>
        <div class="option-details">
          <strong>Vaga descoberta</strong>
          <span>R$ 5,00 / hora</span>
        </div>
        <div class="checkbox" [class.checked]="tipoVaga === 1">
          <i class="bi bi-check" *ngIf="tipoVaga === 1"></i>
        </div>
      </div>

      <div class="option-card" 
           [class.selected]="tipoVaga === 2" 
           (click)="tipoVaga = 2; calcularPreco()">
        <div class="icon-circle purple">
          <i class="bi bi-house-door"></i>
        </div>
        <div class="option-details">
          <strong>Vaga coberta</strong>
          <span>R$ 8,00 / hora</span>
        </div>
        <div class="checkbox" [class.checked]="tipoVaga === 2">
          <i class="bi bi-check" *ngIf="tipoVaga === 2"></i>
        </div>
      </div>
    </div>

    <div class="summary-section">
      <div class="summary-row">
        <div class="col">
          <p>Entrada: {{ dataEntrada | date:'dd/MM' }} às {{ horaEntrada }}</p>
          <p>Tipo: {{ tipoVaga === 1 ? 'Descoberta' : 'Coberta' }}</p>
        </div>
        <div class="col right-align">
          <p>Saída: {{ dataSaida | date:'dd/MM' }} às {{ horaSaida }}</p>
          <p>{{ tempoTotalHoras }} horas est.</p>
        </div>
      </div>
      
      <hr class="divider">

      <div class="total-row">
        <span>Valor Estimado:</span>
        <span class="price">{{ valorTotal | currency:'BRL' }}</span>
      </div>
    </div>

    <div class="action-area">
      <button class="btn-submit" (click)="solicitarReserva()">Solicitar reserva</button>
    </div>

  </div>
</div>